{"ast":null,"code":"var _jsxFileName = \"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/src/posts/pages/UpdatePost.js\";\nimport React, { useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from \"mdbreact\";\nimport CardCatalog from \"../../global/components/front-end-comps/CardCatalog\";\n\nconst UpdatePost = props => {\n  const [description, setDescription] = useState(props.location.state.description);\n  const history = useHistory();\n  const postId = useParams().postId;\n\n  const postUpdateHandler = async e => {\n    e.preventDefault();\n\n    try {\n      await fetch(`http://localhost:5001/api/posts/${postId}`, \"PATCH\", {\n        \"Content-Type\": \"application/json\"\n      }, JSON.stringify({\n        description: description\n      }), setDescription(\"description\"));\n      history.push(`/${sessionStorage.getItem(\"creator\")}/posts`);\n    } catch (err) {}\n  };\n\n  if (!postId) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, \"Cannot find your post.\"));\n  }\n\n  return /*#__PURE__*/React.createElement(CardCatalog, {\n    className: \"post-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MDBContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MDBRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MDBCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: postUpdateHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"h5 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"Edit description here:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grey-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MDBInput, {\n    id: \"description\",\n    className: \"post-desc\",\n    label: \"Description\",\n    group: true,\n    type: \"textarea\",\n    validate: true,\n    onChange: e => setDescription(e.target.value),\n    value: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center rounded-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    className: \"rounded-0\",\n    color: \"elegant\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"SAVE CHANGES\")))))));\n};\n\nexport default UpdatePost;","map":{"version":3,"sources":["/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/src/posts/pages/UpdatePost.js"],"names":["React","useState","useParams","useHistory","MDBContainer","MDBRow","MDBCol","MDBInput","MDBBtn","CardCatalog","UpdatePost","props","description","setDescription","location","state","history","postId","postUpdateHandler","e","preventDefault","fetch","JSON","stringify","push","sessionStorage","getItem","err","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,kBAAtC;AACA,SAASC,YAAT,EAAuBC,MAAvB,EAA+BC,MAA/B,EAAuCC,QAAvC,EAAiDC,MAAjD,QAA+D,UAA/D;AACA,OAAOC,WAAP,MAAwB,qDAAxB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5B,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAC5CU,KAAK,CAACG,QAAN,CAAeC,KAAf,CAAqBH,WADuB,CAA9C;AAGA,QAAMI,OAAO,GAAGb,UAAU,EAA1B;AAEA,QAAMc,MAAM,GAAGf,SAAS,GAAGe,MAA3B;;AAEA,QAAMC,iBAAiB,GAAG,MAAOC,CAAP,IAAa;AACrCA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI;AACF,YAAMC,KAAK,CACR,mCAAkCJ,MAAO,EADjC,EAET,OAFS,EAGT;AAAE,wBAAgB;AAAlB,OAHS,EAITK,IAAI,CAACC,SAAL,CAAe;AACbX,QAAAA,WAAW,EAAEA;AADA,OAAf,CAJS,EAOTC,cAAc,CAAC,aAAD,CAPL,CAAX;AASAG,MAAAA,OAAO,CAACQ,IAAR,CAAc,IAAGC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAkC,QAAnD;AACD,KAXD,CAWE,OAAOC,GAAP,EAAY,CAAE;AACjB,GAdD;;AAgBA,MAAI,CAACV,MAAL,EAAa;AACX,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,CADF;AAKD;;AAED,sBACE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAC,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,EAAE,EAAC,aADL;AAEE,IAAA,SAAS,EAAC,WAFZ;AAGE,IAAA,KAAK,EAAC,aAHR;AAIE,IAAA,KAAK,MAJP;AAKE,IAAA,IAAI,EAAC,UALP;AAME,IAAA,QAAQ,MANV;AAOE,IAAA,QAAQ,EAAGC,CAAD,IAAON,cAAc,CAACM,CAAC,CAACS,MAAF,CAASC,KAAV,CAPjC;AAQE,IAAA,KAAK,EAAEjB,WART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,eAcE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,WAAlB;AAA8B,IAAA,KAAK,EAAC,SAApC;AAA8C,IAAA,IAAI,EAAC,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CAdF,CADF,CADF,CADF,CADF,CADF;AA8BD,CA9DD;;AAgEA,eAAeF,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from \"mdbreact\";\nimport CardCatalog from \"../../global/components/front-end-comps/CardCatalog\";\n\nconst UpdatePost = (props) => {\n  const [description, setDescription] = useState(\n    props.location.state.description\n  );\n  const history = useHistory();\n\n  const postId = useParams().postId;\n\n  const postUpdateHandler = async (e) => {\n    e.preventDefault();\n    try {\n      await fetch(\n        `http://localhost:5001/api/posts/${postId}`,\n        \"PATCH\",\n        { \"Content-Type\": \"application/json\" },\n        JSON.stringify({\n          description: description,\n        }),\n        setDescription(\"description\")\n      );\n      history.push(`/${sessionStorage.getItem(\"creator\")}/posts`);\n    } catch (err) {}\n  };\n\n  if (!postId) {\n    return (\n      <div className=\"center\">\n        <h2>Cannot find your post.</h2>\n      </div>\n    );\n  }\n\n  return (\n    <CardCatalog className=\"post-form\">\n      <MDBContainer>\n        <MDBRow>\n          <MDBCol>\n            <form onSubmit={postUpdateHandler}>\n              <p className=\"h5 mb-5\">Edit description here:</p>\n              <div className=\"grey-text\">\n                <MDBInput\n                  id=\"description\"\n                  className=\"post-desc\"\n                  label=\"Description\"\n                  group\n                  type=\"textarea\"\n                  validate\n                  onChange={(e) => setDescription(e.target.value)}\n                  value={description}\n                />\n              </div>\n              <div className=\"text-center rounded-0\">\n                <MDBBtn className=\"rounded-0\" color=\"elegant\" type=\"submit\">\n                  SAVE CHANGES\n                </MDBBtn>\n              </div>\n            </form>\n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    </CardCatalog>\n  );\n};\n\nexport default UpdatePost;\n"]},"metadata":{},"sourceType":"module"}