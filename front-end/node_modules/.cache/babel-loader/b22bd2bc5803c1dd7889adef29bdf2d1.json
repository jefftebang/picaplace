{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useContext}from\"react\";import\"./Auth.css\";import{MDBContainer,MDBRow,MDBCol,MDBInput,MDBBtn}from\"mdbreact\";import CardCatalog from\"../../global/components/front-end-comps/CardCatalog\";import{Link,useHistory}from\"react-router-dom\";import UserContext from\"../../global/context/UserContext\";import axios from\"axios\";import ErrorNotice from\"../../global/components/front-end-comps/ErrorNotice\";var Auth2=function Auth2(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),passwordCheck=_useState8[0],setPasswordCheck=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var history=useHistory();var _useContext=useContext(UserContext),setUserData=_useContext.setUserData;var signupSubmitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var newUser;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// sign up\n_context.prev=1;newUser={name:name,email:email,password:password,passwordCheck:passwordCheck};_context.next=5;return axios.post(process.env.REACT_APP_BACKEND_URL+\"/users/signup\",newUser);case 5:setUserData({token:undefined,user:undefined});history.push(\"/login\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);_context.t0.response.data.msg&&setError(_context.t0.response.data.msg);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function signupSubmitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(CardCatalog,{className:\"log-form\"},/*#__PURE__*/React.createElement(MDBContainer,null,/*#__PURE__*/React.createElement(MDBRow,null,/*#__PURE__*/React.createElement(MDBCol,null,/*#__PURE__*/React.createElement(\"form\",{className:\"needs-validation\",onSubmit:signupSubmitHandler},/*#__PURE__*/React.createElement(\"p\",{className:\"h5 mb-5 text-center\"},\"Sign up\"),error&&/*#__PURE__*/React.createElement(ErrorNotice,{message:error,clearError:function clearError(){return setError(undefined);},className:\"text-center\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"grey-text\"},/*#__PURE__*/React.createElement(MDBInput,{id:\"name\",label:\"Name\",group:true,icon:\"user\",type:\"text\",required:true,error:\"wrong\",success:\"right\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/React.createElement(MDBInput,{id:\"email\",label:\"Email\",group:true,icon:\"envelope\",type:\"email\",required:true,error:\"wrong\",success:\"right\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(MDBInput,{id:\"password\",label:\"Password\",icon:\"lock\",group:true,required:true,type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(MDBInput,{id:\"passwordCheck\",label:\"Confirm Password\",icon:\"lock\",group:true,required:true,type:\"password\",onChange:function onChange(e){return setPasswordCheck(e.target.value);}})),/*#__PURE__*/React.createElement(MDBCol,{md:\"\",className:\"mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-control custom-checkbox pl-3\"},/*#__PURE__*/React.createElement(\"input\",{className:\"custom-control-input\",type:\"checkbox\",value:\"\",id:\"invalidCheck\",required:true}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-control-label\",htmlFor:\"invalidCheck\"},\"Agree to terms and conditions\"),/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-feedback\"},\"You must agree before submitting.\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(MDBBtn,{type:\"submit\",className:\"rounded-0\",color:\"elegant\"},\"SIGN UP\"))))))),/*#__PURE__*/React.createElement(CardCatalog,{className:\"log-form log2\"},/*#__PURE__*/React.createElement(\"p\",null,\"Have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Login\"))));};export default Auth2;","map":{"version":3,"sources":["/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/src/user/pages/SignUp.js"],"names":["React","useState","Fragment","useContext","MDBContainer","MDBRow","MDBCol","MDBInput","MDBBtn","CardCatalog","Link","useHistory","UserContext","axios","ErrorNotice","Auth2","name","setName","email","setEmail","password","setPassword","passwordCheck","setPasswordCheck","error","setError","history","setUserData","signupSubmitHandler","e","preventDefault","newUser","post","process","env","REACT_APP_BACKEND_URL","token","undefined","user","push","response","data","msg","target","value"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useContext } from \"react\";\nimport \"./Auth.css\";\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from \"mdbreact\";\nimport CardCatalog from \"../../global/components/front-end-comps/CardCatalog\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport UserContext from \"../../global/context/UserContext\";\nimport axios from \"axios\";\nimport ErrorNotice from \"../../global/components/front-end-comps/ErrorNotice\";\n\nconst Auth2 = () => {\n  const [name, setName] = useState();\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [passwordCheck, setPasswordCheck] = useState();\n  const [error, setError] = useState();\n  const history = useHistory();\n  const { setUserData } = useContext(UserContext);\n\n  const signupSubmitHandler = async (e) => {\n    e.preventDefault();\n    // sign up\n    try {\n      const newUser = {\n        name,\n        email,\n        password,\n        passwordCheck,\n      };\n      await axios.post(\n        process.env.REACT_APP_BACKEND_URL + \"/users/signup\",\n        newUser\n      );\n      setUserData({\n        token: undefined,\n        user: undefined,\n      });\n      history.push(\"/login\");\n    } catch (err) {\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  };\n\n  return (\n    <Fragment>\n      <CardCatalog className=\"log-form\">\n        <MDBContainer>\n          <MDBRow>\n            <MDBCol>\n              <form className=\"needs-validation\" onSubmit={signupSubmitHandler}>\n                <p className=\"h5 mb-5 text-center\">Sign up</p>\n                {error && (\n                  <ErrorNotice\n                    message={error}\n                    clearError={() => setError(undefined)}\n                    className=\"text-center\"\n                  />\n                )}\n                <div className=\"grey-text\">\n                  <MDBInput\n                    id=\"name\"\n                    label=\"Name\"\n                    group\n                    icon=\"user\"\n                    type=\"text\"\n                    required\n                    error=\"wrong\"\n                    success=\"right\"\n                    onChange={(e) => setName(e.target.value)}\n                  />\n\n                  <MDBInput\n                    id=\"email\"\n                    label=\"Email\"\n                    group\n                    icon=\"envelope\"\n                    type=\"email\"\n                    required\n                    error=\"wrong\"\n                    success=\"right\"\n                    onChange={(e) => setEmail(e.target.value)}\n                  />\n                  <MDBInput\n                    id=\"password\"\n                    label=\"Password\"\n                    icon=\"lock\"\n                    group\n                    required\n                    type=\"password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                  />\n\n                  <MDBInput\n                    id=\"passwordCheck\"\n                    label=\"Confirm Password\"\n                    icon=\"lock\"\n                    group\n                    required\n                    type=\"password\"\n                    onChange={(e) => setPasswordCheck(e.target.value)}\n                  />\n                </div>\n\n                <MDBCol md=\"\" className=\"mb-3\">\n                  <div className=\"custom-control custom-checkbox pl-3\">\n                    <input\n                      className=\"custom-control-input\"\n                      type=\"checkbox\"\n                      value=\"\"\n                      id=\"invalidCheck\"\n                      required\n                    />\n                    <label\n                      className=\"custom-control-label\"\n                      htmlFor=\"invalidCheck\"\n                    >\n                      Agree to terms and conditions\n                    </label>\n                    <div className=\"invalid-feedback\">\n                      You must agree before submitting.\n                    </div>\n                  </div>\n                </MDBCol>\n\n                <div className=\"text-center\">\n                  <MDBBtn type=\"submit\" className=\"rounded-0\" color=\"elegant\">\n                    SIGN UP\n                  </MDBBtn>\n                </div>\n              </form>\n            </MDBCol>\n          </MDBRow>\n        </MDBContainer>\n      </CardCatalog>\n      <CardCatalog className=\"log-form log2\">\n        <p>\n          Have an account? <Link to=\"/login\">Login</Link>\n        </p>\n      </CardCatalog>\n    </Fragment>\n  );\n};\n\nexport default Auth2;\n"]},"metadata":{},"sourceType":"module"}