{"ast":null,"code":"import _slicedToArray from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./NewPost.css\";import{MDBContainer,MDBRow,MDBCol,MDBInput,MDBBtn}from\"mdbreact\";import CardCatalog from\"../../global/components/front-end-comps/CardCatalog\";import{CommonLoading}from\"react-loadingg\";import{useHistory}from\"react-router-dom\";var NewPost=function NewPost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),address=_useState2[0],setAddress=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var history=useHistory();var postSubmitHandler=function postSubmitHandler(e){setIsLoading(true);e.preventDefault();var apiOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({address:address,description:description,creator:sessionStorage.getItem(\"creator\")})};fetch(process.env.REACT_APP_BACKEND_URL+\"/posts\",apiOptions).then(function(res){return res.json();}).then(function(res){setIsLoading(false);setAddress(\"\");setDescription(\"\");history.push(\"/\".concat(sessionStorage.getItem(\"creator\"),\"/posts\"));});};if(isLoading){return/*#__PURE__*/React.createElement(CommonLoading,{color:\"grey\"});}return/*#__PURE__*/React.createElement(CardCatalog,{className:\"post-form\"},/*#__PURE__*/React.createElement(MDBContainer,null,/*#__PURE__*/React.createElement(MDBRow,null,/*#__PURE__*/React.createElement(MDBCol,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:postSubmitHandler},/*#__PURE__*/React.createElement(\"p\",{className:\"h5 mb-4\"},\"Create new post here:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"grey-text\"},/*#__PURE__*/React.createElement(MDBInput,{id:\"address\",label:\"Address\",group:true,type:\"text\",validate:true,error:\"wrong\",success:\"right\",onChange:function onChange(e){return setAddress(e.target.value);}}),/*#__PURE__*/React.createElement(MDBInput,{id:\"description\",className:\"post-desc\",label:\"Description\",group:true,type:\"textarea\",validate:true,onChange:function onChange(e){return setDescription(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center rounded-0\"},/*#__PURE__*/React.createElement(MDBBtn,{type:\"submit\",className:\"rounded-0\",color:\"elegant\"},\"POST\")))))));};export default NewPost;","map":{"version":3,"sources":["/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/src/posts/pages/NewPost.js"],"names":["React","useState","MDBContainer","MDBRow","MDBCol","MDBInput","MDBBtn","CardCatalog","CommonLoading","useHistory","NewPost","address","setAddress","description","setDescription","isLoading","setIsLoading","history","postSubmitHandler","e","preventDefault","apiOptions","method","headers","body","JSON","stringify","creator","sessionStorage","getItem","fetch","process","env","REACT_APP_BACKEND_URL","then","res","json","push","target","value"],"mappings":"2MAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,eAAP,CACA,OAASC,YAAT,CAAuBC,MAAvB,CAA+BC,MAA/B,CAAuCC,QAAvC,CAAiDC,MAAjD,KAA+D,UAA/D,CACA,MAAOC,CAAAA,WAAP,KAAwB,qDAAxB,CACA,OAASC,aAAT,KAA8B,gBAA9B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,eACUT,QAAQ,CAAC,EAAD,CADlB,wCACbU,OADa,eACJC,UADI,8BAEkBX,QAAQ,CAAC,EAAD,CAF1B,yCAEbY,WAFa,eAEAC,cAFA,8BAGcb,QAAQ,CAAC,KAAD,CAHtB,yCAGbc,SAHa,eAGFC,YAHE,eAIpB,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEA,GAAMS,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC/BH,YAAY,CAAC,IAAD,CAAZ,CACAG,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,UAAU,CAAG,CACjBC,MAAM,CAAE,MADS,CAEjBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFQ,CAGjBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBf,OAAO,CAAPA,OADmB,CAEnBE,WAAW,CAAXA,WAFmB,CAGnBc,OAAO,CAAEC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAHU,CAAf,CAHW,CAAnB,CAUAC,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,CAAoC,QAArC,CAA+CZ,UAA/C,CAAL,CACGa,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbnB,YAAY,CAAC,KAAD,CAAZ,CACAJ,UAAU,CAAC,EAAD,CAAV,CACAE,cAAc,CAAC,EAAD,CAAd,CACAG,OAAO,CAACoB,IAAR,YAAiBT,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAjB,YACD,CAPH,EAQD,CArBD,CAuBA,GAAId,SAAJ,CAAe,CACb,mBAAO,oBAAC,aAAD,EAAe,KAAK,CAAC,MAArB,EAAP,CACD,CAED,mBACE,oBAAC,WAAD,EAAa,SAAS,CAAC,WAAvB,eACE,oBAAC,YAAD,mBACE,oBAAC,MAAD,mBACE,oBAAC,MAAD,mBACE,4BAAM,QAAQ,CAAEG,iBAAhB,eACE,yBAAG,SAAS,CAAC,SAAb,0BADF,cAEE,2BAAK,SAAS,CAAC,WAAf,eACE,oBAAC,QAAD,EACE,EAAE,CAAC,SADL,CAEE,KAAK,CAAC,SAFR,CAGE,KAAK,KAHP,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,KALV,CAME,KAAK,CAAC,OANR,CAOE,OAAO,CAAC,OAPV,CAQE,QAAQ,CAAE,kBAACC,CAAD,QAAOP,CAAAA,UAAU,CAACO,CAAC,CAACmB,MAAF,CAASC,KAAV,CAAjB,EARZ,EADF,cAWE,oBAAC,QAAD,EACE,EAAE,CAAC,aADL,CAEE,SAAS,CAAC,WAFZ,CAGE,KAAK,CAAC,aAHR,CAIE,KAAK,KAJP,CAKE,IAAI,CAAC,UALP,CAME,QAAQ,KANV,CAOE,QAAQ,CAAE,kBAACpB,CAAD,QAAOL,CAAAA,cAAc,CAACK,CAAC,CAACmB,MAAF,CAASC,KAAV,CAArB,EAPZ,EAXF,CAFF,cAuBE,2BAAK,SAAS,CAAC,uBAAf,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,KAAK,CAAC,SAAlD,SADF,CAvBF,CADF,CADF,CADF,CADF,CADF,CAuCD,CAxED,CA0EA,cAAe7B,CAAAA,OAAf","sourcesContent":["import React, { useState } from \"react\";\nimport \"./NewPost.css\";\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from \"mdbreact\";\nimport CardCatalog from \"../../global/components/front-end-comps/CardCatalog\";\nimport { CommonLoading } from \"react-loadingg\";\nimport { useHistory } from \"react-router-dom\";\n\nconst NewPost = () => {\n  const [address, setAddress] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n\n  const postSubmitHandler = (e) => {\n    setIsLoading(true);\n    e.preventDefault();\n    const apiOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        address,\n        description,\n        creator: sessionStorage.getItem(\"creator\"),\n      }),\n    };\n\n    fetch(process.env.REACT_APP_BACKEND_URL + \"/posts\", apiOptions)\n      .then((res) => res.json())\n      .then((res) => {\n        setIsLoading(false);\n        setAddress(\"\");\n        setDescription(\"\");\n        history.push(`/${sessionStorage.getItem(\"creator\")}/posts`);\n      });\n  };\n\n  if (isLoading) {\n    return <CommonLoading color=\"grey\" />;\n  }\n\n  return (\n    <CardCatalog className=\"post-form\">\n      <MDBContainer>\n        <MDBRow>\n          <MDBCol>\n            <form onSubmit={postSubmitHandler}>\n              <p className=\"h5 mb-4\">Create new post here:</p>\n              <div className=\"grey-text\">\n                <MDBInput\n                  id=\"address\"\n                  label=\"Address\"\n                  group\n                  type=\"text\"\n                  validate\n                  error=\"wrong\"\n                  success=\"right\"\n                  onChange={(e) => setAddress(e.target.value)}\n                />\n                <MDBInput\n                  id=\"description\"\n                  className=\"post-desc\"\n                  label=\"Description\"\n                  group\n                  type=\"textarea\"\n                  validate\n                  onChange={(e) => setDescription(e.target.value)}\n                />\n              </div>\n              <div className=\"text-center rounded-0\">\n                <MDBBtn type=\"submit\" className=\"rounded-0\" color=\"elegant\">\n                  POST\n                </MDBBtn>\n              </div>\n            </form>\n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    </CardCatalog>\n  );\n};\n\nexport default NewPost;\n"]},"metadata":{},"sourceType":"module"}