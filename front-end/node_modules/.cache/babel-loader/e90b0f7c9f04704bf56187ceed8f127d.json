{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment}from\"react\";import\"./PostBit.css\";import CardCatalog from\"../../global/components/front-end-comps/CardCatalog\";import Modal from\"../../global/components/front-end-comps/Modal\";import Map from\"../../global/components/front-end-comps/Map\";import{MDBBtn}from\"mdbreact\";import{Link}from\"react-router-dom\";import Avatar from\"../../global/components/front-end-comps/Avatar\";import{useHttp}from\"../../global/components/front-end-comps/http\";import{CommonLoading}from\"react-loadingg\";var PostBit=function PostBit(props){var _useHttp=useHttp(),isLoading=_useHttp.isLoading,sendRequest=_useHttp.sendRequest;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openMap=_useState2[0],setOpenMap=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openConfirm=_useState4[0],setOpenConfirm=_useState4[1];var openMapHandler=function openMapHandler(){setOpenMap(true);};var closeMapHandler=function closeMapHandler(){setOpenMap(false);};var openDeleteHandler=function openDeleteHandler(){setOpenConfirm(true);};var closeDeleteHandler=function closeDeleteHandler(){setOpenConfirm(false);};var submitDeleteHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setOpenConfirm(false);_context.prev=1;_context.next=4;return sendRequest(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/posts/\").concat(props.id),\"DELETE\");case 4:props.onDelete(props.id);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);case 9:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function submitDeleteHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Modal,{show:openMap,header:props.address,contentClass:\"post-bit__modal-content\",onClick:closeMapHandler},/*#__PURE__*/React.createElement(\"div\",{className:\"map-wrap\"},/*#__PURE__*/React.createElement(Map,{center:props.location,zoom:15}))),/*#__PURE__*/React.createElement(Modal,{className:\"modal-prompt\",show:openConfirm,onClick:closeDeleteHandler,header:\"DELETE\",footerClass:\"post-bit__modal-actions\",footer:/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"delete-footer\"},/*#__PURE__*/React.createElement(MDBBtn,{className:\"post-btn rounded-0\",color:\"grey grey lighten-1\",onClick:closeDeleteHandler},\"CANCEL\"),/*#__PURE__*/React.createElement(MDBBtn,{className:\"post-btn rounded-0\",color:\"grey grey lighten-1\",onClick:submitDeleteHandler},\"DELETE\")))},/*#__PURE__*/React.createElement(\"p\",{style:{padding:\"1rem 3rem\"}},\"Are you sure you want to delete this post? It cannot be undone after.\")),/*#__PURE__*/React.createElement(\"li\",{className:\"post-bit\"},/*#__PURE__*/React.createElement(CardCatalog,{className:\"post-bit__content\"},isLoading&&/*#__PURE__*/React.createElement(CommonLoading,{color:\"grey\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"post-bit__image\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user__image\"},/*#__PURE__*/React.createElement(Avatar,{image:props.image,alt:props.name})),/*#__PURE__*/React.createElement(\"img\",{src:props.image,alt:props.location})),/*#__PURE__*/React.createElement(\"div\",{className:\"post-bit__info\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,props.address)),/*#__PURE__*/React.createElement(\"p\",{className:\"post-bit__desc\"},props.name,\" \",props.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"post-bit__actions\"},/*#__PURE__*/React.createElement(MDBBtn,{onClick:openMapHandler,className:\"rounded-0 post-btn\"},\"VIEW ON MAP\"),sessionStorage.creator===props.creatorId&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/posts/\".concat(props.id),state:{description:props.description}}},/*#__PURE__*/React.createElement(MDBBtn,{className:\"rounded-0 post-btn\"},\"EDIT\")),/*#__PURE__*/React.createElement(MDBBtn,{onClick:openDeleteHandler,className:\"rounded-0 post-btn\"},\"DELETE\"))))));};export default PostBit;","map":{"version":3,"sources":["/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/src/posts/components/PostBit.js"],"names":["React","useState","Fragment","CardCatalog","Modal","Map","MDBBtn","Link","Avatar","useHttp","CommonLoading","PostBit","props","isLoading","sendRequest","openMap","setOpenMap","openConfirm","setOpenConfirm","openMapHandler","closeMapHandler","openDeleteHandler","closeDeleteHandler","submitDeleteHandler","process","env","REACT_APP_BACKEND_URL","id","onDelete","address","location","padding","image","name","description","sessionStorage","creator","creatorId","pathname","state"],"mappings":"8lBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,qDAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,+CAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,6CAAhB,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gDAAnB,CACA,OAASC,OAAT,KAAwB,8CAAxB,CACA,OAASC,aAAT,KAA8B,gBAA9B,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,cACUH,OAAO,EADjB,CACjBI,SADiB,UACjBA,SADiB,CACNC,WADM,UACNA,WADM,eAEKb,QAAQ,CAAC,KAAD,CAFb,wCAElBc,OAFkB,eAETC,UAFS,8BAGaf,QAAQ,CAAC,KAAD,CAHrB,yCAGlBgB,WAHkB,eAGLC,cAHK,eAKzB,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BH,UAAU,CAAC,IAAD,CAAV,CACD,CAFD,CAIA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BJ,UAAU,CAAC,KAAD,CAAV,CACD,CAFD,CAIA,GAAMK,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BH,cAAc,CAAC,IAAD,CAAd,CACD,CAFD,CAIA,GAAMI,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/BJ,cAAc,CAAC,KAAD,CAAd,CACD,CAFD,CAIA,GAAMK,CAAAA,mBAAmB,0FAAG,mIAC1BL,cAAc,CAAC,KAAD,CAAd,CAD0B,sCAGlBJ,CAAAA,WAAW,WACZU,OAAO,CAACC,GAAR,CAAYC,qBADA,mBAC+Bd,KAAK,CAACe,EADrC,EAEf,QAFe,CAHO,QAOxBf,KAAK,CAACgB,QAAN,CAAehB,KAAK,CAACe,EAArB,EAPwB,iJAAH,kBAAnBJ,CAAAA,mBAAmB,0CAAzB,CAWA,mBACE,oBAAC,QAAD,mBACE,oBAAC,KAAD,EACE,IAAI,CAAER,OADR,CAEE,MAAM,CAAEH,KAAK,CAACiB,OAFhB,CAGE,YAAY,CAAC,yBAHf,CAIE,OAAO,CAAET,eAJX,eAME,2BAAK,SAAS,CAAC,UAAf,eACE,oBAAC,GAAD,EAAK,MAAM,CAAER,KAAK,CAACkB,QAAnB,CAA6B,IAAI,CAAE,EAAnC,EADF,CANF,CADF,cAWE,oBAAC,KAAD,EACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAEb,WAFR,CAGE,OAAO,CAAEK,kBAHX,CAIE,MAAM,CAAC,QAJT,CAKE,WAAW,CAAC,yBALd,CAME,MAAM,cACJ,oBAAC,QAAD,mBACE,8BADF,cAEE,2BAAK,SAAS,CAAC,eAAf,eACE,oBAAC,MAAD,EACE,SAAS,CAAC,oBADZ,CAEE,KAAK,CAAC,qBAFR,CAGE,OAAO,CAAEA,kBAHX,WADF,cAQE,oBAAC,MAAD,EACE,SAAS,CAAC,oBADZ,CAEE,KAAK,CAAC,qBAFR,CAGE,OAAO,CAAEC,mBAHX,WARF,CAFF,CAPJ,eA4BE,yBAAG,KAAK,CAAE,CAAEQ,OAAO,CAAE,WAAX,CAAV,0EA5BF,CAXF,cA2CE,0BAAI,SAAS,CAAC,UAAd,eACE,oBAAC,WAAD,EAAa,SAAS,CAAC,mBAAvB,EACGlB,SAAS,eAAI,oBAAC,aAAD,EAAe,KAAK,CAAC,MAArB,EADhB,cAOE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,MAAD,EAAQ,KAAK,CAAED,KAAK,CAACoB,KAArB,CAA4B,GAAG,CAAEpB,KAAK,CAACqB,IAAvC,EADF,CADF,cAIE,2BAAK,GAAG,CAAErB,KAAK,CAACoB,KAAhB,CAAuB,GAAG,CAAEpB,KAAK,CAACkB,QAAlC,EAJF,CAPF,cAaE,2BAAK,SAAS,CAAC,gBAAf,eACE,0CACE,kCAASlB,KAAK,CAACiB,OAAf,CADF,CADF,cAIE,yBAAG,SAAS,CAAC,gBAAb,EACGjB,KAAK,CAACqB,IADT,KACgBrB,KAAK,CAACsB,WADtB,CAJF,CAbF,cAqBE,2BAAK,SAAS,CAAC,mBAAf,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAEf,cAAjB,CAAiC,SAAS,CAAC,oBAA3C,gBADF,CAIGgB,cAAc,CAACC,OAAf,GAA2BxB,KAAK,CAACyB,SAAjC,eACC,oBAAC,QAAD,mBACE,oBAAC,IAAD,EACE,EAAE,CAAE,CACFC,QAAQ,kBAAY1B,KAAK,CAACe,EAAlB,CADN,CAEFY,KAAK,CAAE,CACLL,WAAW,CAAEtB,KAAK,CAACsB,WADd,CAFL,CADN,eAQE,oBAAC,MAAD,EAAQ,SAAS,CAAC,oBAAlB,SARF,CADF,cAWE,oBAAC,MAAD,EACE,OAAO,CAAEb,iBADX,CAEE,SAAS,CAAC,oBAFZ,WAXF,CALJ,CArBF,CADF,CA3CF,CADF,CA+FD,CA/HD,CAiIA,cAAeV,CAAAA,OAAf","sourcesContent":["import React, { useState, Fragment } from \"react\";\nimport \"./PostBit.css\";\nimport CardCatalog from \"../../global/components/front-end-comps/CardCatalog\";\nimport Modal from \"../../global/components/front-end-comps/Modal\";\nimport Map from \"../../global/components/front-end-comps/Map\";\nimport { MDBBtn } from \"mdbreact\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../../global/components/front-end-comps/Avatar\";\nimport { useHttp } from \"../../global/components/front-end-comps/http\";\nimport { CommonLoading } from \"react-loadingg\";\n\nconst PostBit = (props) => {\n  const { isLoading, sendRequest } = useHttp();\n  const [openMap, setOpenMap] = useState(false);\n  const [openConfirm, setOpenConfirm] = useState(false);\n\n  const openMapHandler = () => {\n    setOpenMap(true);\n  };\n\n  const closeMapHandler = () => {\n    setOpenMap(false);\n  };\n\n  const openDeleteHandler = () => {\n    setOpenConfirm(true);\n  };\n\n  const closeDeleteHandler = () => {\n    setOpenConfirm(false);\n  };\n\n  const submitDeleteHandler = async () => {\n    setOpenConfirm(false);\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/posts/${props.id}`,\n        \"DELETE\"\n      );\n      props.onDelete(props.id);\n    } catch (err) {}\n  };\n\n  return (\n    <Fragment>\n      <Modal\n        show={openMap}\n        header={props.address}\n        contentClass=\"post-bit__modal-content\"\n        onClick={closeMapHandler}\n      >\n        <div className=\"map-wrap\">\n          <Map center={props.location} zoom={15} />\n        </div>\n      </Modal>\n      <Modal\n        className=\"modal-prompt\"\n        show={openConfirm}\n        onClick={closeDeleteHandler}\n        header=\"DELETE\"\n        footerClass=\"post-bit__modal-actions\"\n        footer={\n          <Fragment>\n            <hr />\n            <div className=\"delete-footer\">\n              <MDBBtn\n                className=\"post-btn rounded-0\"\n                color=\"grey grey lighten-1\"\n                onClick={closeDeleteHandler}\n              >\n                CANCEL\n              </MDBBtn>\n              <MDBBtn\n                className=\"post-btn rounded-0\"\n                color=\"grey grey lighten-1\"\n                onClick={submitDeleteHandler}\n              >\n                DELETE\n              </MDBBtn>\n            </div>\n          </Fragment>\n        }\n      >\n        <p style={{ padding: \"1rem 3rem\" }}>\n          Are you sure you want to delete this post? It cannot be undone after.\n        </p>\n      </Modal>\n      <li className=\"post-bit\">\n        <CardCatalog className=\"post-bit__content\">\n          {isLoading && <CommonLoading color=\"grey\" />}\n          {/* <div className=\"post-head\">\n            <p className=\"creatorName\">\n              <strong>Ctreator Name</strong>\n            </p>\n          </div> */}\n          <div className=\"post-bit__image\">\n            <div className=\"user__image\">\n              <Avatar image={props.image} alt={props.name} />\n            </div>\n            <img src={props.image} alt={props.location} />\n          </div>\n          <div className=\"post-bit__info\">\n            <p>\n              <strong>{props.address}</strong>\n            </p>\n            <p className=\"post-bit__desc\">\n              {props.name} {props.description}\n            </p>\n          </div>\n          <div className=\"post-bit__actions\">\n            <MDBBtn onClick={openMapHandler} className=\"rounded-0 post-btn\">\n              VIEW ON MAP\n            </MDBBtn>\n            {sessionStorage.creator === props.creatorId && (\n              <Fragment>\n                <Link\n                  to={{\n                    pathname: `/posts/${props.id}`,\n                    state: {\n                      description: props.description,\n                    },\n                  }}\n                >\n                  <MDBBtn className=\"rounded-0 post-btn\">EDIT</MDBBtn>\n                </Link>\n                <MDBBtn\n                  onClick={openDeleteHandler}\n                  className=\"rounded-0 post-btn\"\n                >\n                  DELETE\n                </MDBBtn>\n              </Fragment>\n            )}\n          </div>\n        </CardCatalog>\n      </li>\n    </Fragment>\n  );\n};\n\nexport default PostBit;\n"]},"metadata":{},"sourceType":"module"}