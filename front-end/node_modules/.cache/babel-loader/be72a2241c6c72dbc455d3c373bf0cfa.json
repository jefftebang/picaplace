{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,Fragment}from\"react\";import UsersCatalog from\"../components/UsersCatalog\";import{CommonLoading}from\"react-loadingg\";var Users=function Users(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];// eslint-disable-next-line\nvar _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),loadedUsers=_useState6[0],setLoadedUsers=_useState6[1];useEffect(function(){var sendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,responseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return fetch(process.env.REACT_APP_BACKEND_URL+\"/users/users\");case 4:response=_context.sent;_context.next=7;return response.json();case 7:responseData=_context.sent;if(response.ok){_context.next=10;break;}throw new Error(responseData.message);case 10:setLoadedUsers(responseData.users);setIsLoading(false);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);case 17:setIsLoading(false);case 18:case\"end\":return _context.stop();}}},_callee,null,[[1,14]]);}));return function sendRequest(){return _ref.apply(this,arguments);};}();sendRequest();},[]);if(isLoading){return/*#__PURE__*/React.createElement(CommonLoading,{color:\"grey\"});}return/*#__PURE__*/React.createElement(Fragment,null,!isLoading&&loadedUsers&&/*#__PURE__*/React.createElement(UsersCatalog,{bits:loadedUsers}));};export default Users;","map":{"version":3,"sources":["/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/src/user/pages/Users.js"],"names":["React","useEffect","useState","Fragment","UsersCatalog","CommonLoading","Users","props","isLoading","setIsLoading","undefined","error","setError","loadedUsers","setLoadedUsers","sendRequest","fetch","process","env","REACT_APP_BACKEND_URL","response","json","responseData","ok","Error","message","users"],"mappings":"8lBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,QAArC,KAAqD,OAArD,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,OAASC,aAAT,KAA8B,gBAA9B,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,eACWL,QAAQ,CAAC,KAAD,CADnB,wCAChBM,SADgB,eACLC,YADK,eAEvB;AAFuB,eAGGP,QAAQ,CAACQ,SAAD,CAHX,yCAGhBC,KAHgB,eAGTC,QAHS,8BAIeV,QAAQ,EAJvB,yCAIhBW,WAJgB,eAIHC,cAJG,eAMvBb,SAAS,CAAC,UAAM,CACd,GAAMc,CAAAA,WAAW,0FAAG,6JAClBN,YAAY,CAAC,IAAD,CAAZ,CADkB,sCAGOO,CAAAA,KAAK,CAC1BC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,CAAoC,cADV,CAHZ,QAGVC,QAHU,qCAOWA,CAAAA,QAAQ,CAACC,IAAT,EAPX,QAOVC,YAPU,kBASXF,QAAQ,CAACG,EATE,+BAUR,IAAIC,CAAAA,KAAJ,CAAUF,YAAY,CAACG,OAAvB,CAVQ,SAahBX,cAAc,CAACQ,YAAY,CAACI,KAAd,CAAd,CACAjB,YAAY,CAAC,KAAD,CAAZ,CAdgB,iFAgBhBG,QAAQ,CAAC,YAAIa,OAAL,CAAR,CAhBgB,QAkBlBhB,YAAY,CAAC,KAAD,CAAZ,CAlBkB,qEAAH,kBAAXM,CAAAA,WAAW,0CAAjB,CAoBAA,WAAW,GACZ,CAtBQ,CAsBN,EAtBM,CAAT,CAwBA,GAAIP,SAAJ,CAAe,CACb,mBAAO,oBAAC,aAAD,EAAe,KAAK,CAAC,MAArB,EAAP,CACD,CAED,mBACE,oBAAC,QAAD,MACG,CAACA,SAAD,EAAcK,WAAd,eAA6B,oBAAC,YAAD,EAAc,IAAI,CAAEA,WAApB,EADhC,CADF,CAKD,CAvCD,CAyCA,cAAeP,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState, Fragment } from \"react\";\nimport UsersCatalog from \"../components/UsersCatalog\";\nimport { CommonLoading } from \"react-loadingg\";\n\nconst Users = (props) => {\n  const [isLoading, setIsLoading] = useState(false);\n  // eslint-disable-next-line\n  const [error, setError] = useState(undefined);\n  const [loadedUsers, setLoadedUsers] = useState();\n\n  useEffect(() => {\n    const sendRequest = async () => {\n      setIsLoading(true);\n      try {\n        const response = await fetch(\n          process.env.REACT_APP_BACKEND_URL + \"/users/users\"\n        );\n\n        const responseData = await response.json();\n\n        if (!response.ok) {\n          throw new Error(responseData.message);\n        }\n\n        setLoadedUsers(responseData.users);\n        setIsLoading(false);\n      } catch (err) {\n        setError(err.message);\n      }\n      setIsLoading(false);\n    };\n    sendRequest();\n  }, []);\n\n  if (isLoading) {\n    return <CommonLoading color=\"grey\" />;\n  }\n\n  return (\n    <Fragment>\n      {!isLoading && loadedUsers && <UsersCatalog bits={loadedUsers} />}\n    </Fragment>\n  );\n};\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}