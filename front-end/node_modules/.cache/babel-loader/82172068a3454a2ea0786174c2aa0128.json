{"ast":null,"code":"import _slicedToArray from\"/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState,Fragment}from\"react\";import mapboxgl from\"mapbox-gl\";import\"./Map.css\";var Map=function Map(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),map=_useState2[0],setMap=_useState2[1];var mapContainer=useRef(null);var center=props.center,zoom=props.zoom;useEffect(function(){mapboxgl.accessToken=process.env.REACT_APP_MAPBOX_API_KEY;var initializeMap=function initializeMap(_ref){var setMap=_ref.setMap,mapContainer=_ref.mapContainer;var map=new mapboxgl.Map({container:mapContainer.current,style:\"mapbox://styles/mapbox/streets-v11\",// stylesheet location\ncenter:[center.Longitude,center.Latitude],zoom:zoom});// eslint-disable-next-line\nvar marker=new mapboxgl.Marker().setLngLat([center.Longitude,center.Latitude]).addTo(map);map.on(\"load\",function(){setMap(map);map.resize();});var layerList=document.getElementById(\"menu\");var inputs=layerList.getElementsByTagName(\"input\");function switchLayer(layer){var layerId=layer.target.id;map.setStyle(\"mapbox://styles/mapbox/\"+layerId);}map.addControl(new mapboxgl.NavigationControl());for(var i=0;i<inputs.length;i++){inputs[i].onclick=switchLayer;}};if(!map)initializeMap({setMap:setMap,mapContainer:mapContainer});},[center,zoom,map]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return mapContainer.current=el;},className:\"map\"}),/*#__PURE__*/React.createElement(\"div\",{id:\"menu\"},/*#__PURE__*/React.createElement(\"input\",{id:\"streets-v11\",type:\"radio\",name:\"rtoggle\",value:\"streets\",defaultChecked:\"checked\"}),\" \",/*#__PURE__*/React.createElement(\"label\",{for:\"streets-v11\",className:\"spacer\"},\"Streets\"),/*#__PURE__*/React.createElement(\"input\",{id:\"light-v10\",type:\"radio\",name:\"rtoggle\",value:\"light\"}),\" \",/*#__PURE__*/React.createElement(\"label\",{for:\"light-v10\",className:\"spacer\"},\"Light\"),/*#__PURE__*/React.createElement(\"input\",{id:\"dark-v10\",type:\"radio\",name:\"rtoggle\",value:\"dark\"}),\" \",/*#__PURE__*/React.createElement(\"label\",{for:\"dark-v10\",className:\"spacer\"},\"Dark\"),/*#__PURE__*/React.createElement(\"input\",{id:\"outdoors-v11\",type:\"radio\",name:\"rtoggle\",value:\"outdoors\"}),\" \",/*#__PURE__*/React.createElement(\"label\",{for:\"outdoors-v11\",className:\"spacer\"},\"Outdoors\"),/*#__PURE__*/React.createElement(\"input\",{id:\"satellite-v9\",type:\"radio\",name:\"rtoggle\",value:\"satellite\"}),\" \",/*#__PURE__*/React.createElement(\"label\",{for:\"satellite-v9\",className:\"spacer\"},\"Satellite\")));};export default Map;","map":{"version":3,"sources":["/Users/zemiragabrielle/Documents/Jeff's/Web Development Course/MERN/fligno/front-end/src/global/components/front-end-comps/Map.js"],"names":["React","useEffect","useRef","useState","Fragment","mapboxgl","Map","props","map","setMap","mapContainer","center","zoom","accessToken","process","env","REACT_APP_MAPBOX_API_KEY","initializeMap","container","current","style","Longitude","Latitude","marker","Marker","setLngLat","addTo","on","resize","layerList","document","getElementById","inputs","getElementsByTagName","switchLayer","layer","layerId","target","id","setStyle","addControl","NavigationControl","i","length","onclick","el"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState, Fragment } from \"react\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"./Map.css\";\n\nconst Map = (props) => {\n  const [map, setMap] = useState(null);\n  const mapContainer = useRef(null);\n\n  const { center, zoom } = props;\n\n  useEffect(() => {\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY;\n    const initializeMap = ({ setMap, mapContainer }) => {\n      const map = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: \"mapbox://styles/mapbox/streets-v11\", // stylesheet location\n        center: [center.Longitude, center.Latitude],\n        zoom: zoom,\n      });\n\n      // eslint-disable-next-line\n      const marker = new mapboxgl.Marker()\n        .setLngLat([center.Longitude, center.Latitude])\n        .addTo(map);\n\n      map.on(\"load\", () => {\n        setMap(map);\n        map.resize();\n      });\n      let layerList = document.getElementById(\"menu\");\n      let inputs = layerList.getElementsByTagName(\"input\");\n\n      function switchLayer(layer) {\n        let layerId = layer.target.id;\n        map.setStyle(\"mapbox://styles/mapbox/\" + layerId);\n      }\n      map.addControl(new mapboxgl.NavigationControl());\n\n      for (let i = 0; i < inputs.length; i++) {\n        inputs[i].onclick = switchLayer;\n      }\n    };\n\n    if (!map) initializeMap({ setMap, mapContainer });\n  }, [center, zoom, map]);\n\n  return (\n    <Fragment>\n      <div ref={(el) => (mapContainer.current = el)} className=\"map\"></div>\n      <div id=\"menu\">\n        <input\n          id=\"streets-v11\"\n          type=\"radio\"\n          name=\"rtoggle\"\n          value=\"streets\"\n          defaultChecked=\"checked\"\n        />{\" \"}\n        <label for=\"streets-v11\" className=\"spacer\">\n          Streets\n        </label>\n        <input id=\"light-v10\" type=\"radio\" name=\"rtoggle\" value=\"light\" />{\" \"}\n        <label for=\"light-v10\" className=\"spacer\">\n          Light\n        </label>\n        <input id=\"dark-v10\" type=\"radio\" name=\"rtoggle\" value=\"dark\" />{\" \"}\n        <label for=\"dark-v10\" className=\"spacer\">\n          Dark\n        </label>\n        <input id=\"outdoors-v11\" type=\"radio\" name=\"rtoggle\" value=\"outdoors\" />{\" \"}\n        <label for=\"outdoors-v11\" className=\"spacer\">\n          Outdoors\n        </label>\n        <input\n          id=\"satellite-v9\"\n          type=\"radio\"\n          name=\"rtoggle\"\n          value=\"satellite\"\n        />{\" \"}\n        <label for=\"satellite-v9\" className=\"spacer\">\n          Satellite\n        </label>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}