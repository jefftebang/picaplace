(this.webpackJsonpfligno=this.webpackJsonpfligno||[]).push([[0],{136:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(14),s=a.n(c),l=(a(72),a(73),a(74),a(75),a(8)),o=a.n(l),i=a(15),u=a(5),m=a(11),p=a(7),d=a(21),E=a.n(d),f=(a(93),a(94),a(95),function(e){return r.a.createElement("div",{className:"avatar ".concat(e.className),style:e.style},r.a.createElement("img",{src:"https://picsum.photos/200",alt:e.alt,style:{width:e.width,height:e.width}}))}),g=(a(96),function(e){return r.a.createElement("div",{className:"card-catalog ".concat(e.className),style:e.style},e.children)}),b=function(e){var t;return t=0===e.postCount?r.a.createElement("div",{id:"noClick"},r.a.createElement("div",{className:"user-bit__image"},r.a.createElement(f,{image:e.image,alt:e.name})),r.a.createElement("div",{className:"user-bit__info"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,e.postCount," ",e.postCount<=1?"Post":"Posts"))):r.a.createElement(p.b,{to:"/".concat(e.id,"/posts")},r.a.createElement("div",{className:"user-bit__image"},r.a.createElement(f,{image:e.image,alt:e.name})),r.a.createElement("div",{className:"user-bit__info"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,e.postCount," ",e.postCount<=1?"Post":"Posts"))),r.a.createElement("li",{className:"user-bit__li"},r.a.createElement(g,{className:"user-bit__content user-bit"},t))},h=function(e){return 0===e.bits.length?r.a.createElement("div",{className:"center"},r.a.createElement(g,null,r.a.createElement("h2",null,"No users to show."))):r.a.createElement("ul",{className:"users-catalog"},e.bits.map((function(e){return r.a.createElement(b,{key:e.id,id:e.id,image:e.image,name:e.name,postCount:e.posts.length})})))},v=a(20),N=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(void 0),m=Object(u.a)(l,2),p=(m[0],m[1]),d=Object(n.useState)(),E=Object(u.a)(d,2),f=E[0],g=E[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,fetch("https://picaplace.herokuapp.com/api/users/users");case 4:return t=e.sent,e.next=7,t.json();case 7:if(a=e.sent,t.ok){e.next=10;break}throw new Error(a.message);case 10:g(a.users),s(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),p(e.t0.message);case 17:s(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),c?r.a.createElement(v.CommonLoading,{color:"grey"}):r.a.createElement(n.Fragment,null,!c&&f&&r.a.createElement(h,{bits:f}))},k=(a(136),a(3)),O=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),l=Object(u.a)(s,2),o=l[0],i=l[1],p=Object(n.useState)(!1),d=Object(u.a)(p,2),E=d[0],f=d[1],b=Object(m.g)();return E?r.a.createElement(v.CommonLoading,{color:"grey"}):r.a.createElement(g,{className:"post-form"},r.a.createElement(k.d,null,r.a.createElement(k.i,null,r.a.createElement(k.c,null,r.a.createElement("form",{onSubmit:function(e){f(!0),e.preventDefault();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:a,description:o,creator:sessionStorage.getItem("creator")})};fetch("https://picaplace.herokuapp.com/api/posts",t).then((function(e){return e.json()})).then((function(e){f(!1),c(""),i(""),b.push("/".concat(sessionStorage.getItem("creator"),"/posts"))}))}},r.a.createElement("p",{className:"h5 mb-4"},"Create new post here:"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(k.f,{id:"address",label:"Address",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return c(e.target.value)}}),r.a.createElement(k.f,{id:"description",className:"post-desc",label:"Description",group:!0,type:"textarea",validate:!0,onChange:function(e){return i(e.target.value)}})),r.a.createElement("div",{className:"text-center rounded-0"},r.a.createElement(k.b,{type:"submit",className:"rounded-0",color:"elegant"},"POST")))))))},j=(a(155),a(156),function(e){return r.a.createElement("header",{className:"main-wrap"},e.children)}),y=(a(157),Object(n.createContext)(null)),C=function(e){var t=Object(n.useContext)(y).setUserData,a=Object(m.g)();return r.a.createElement("ul",{className:"nav-links"},sessionStorage.creator&&r.a.createElement(n.Fragment,null,r.a.createElement("li",null,r.a.createElement(p.c,{to:"/users",exact:!0},"Users")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/posts/new"},"Add Post")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/".concat(sessionStorage.getItem("creator"),"/posts")},sessionStorage.name))),sessionStorage.creator&&r.a.createElement("li",null,r.a.createElement(p.c,{to:"",onClick:function(){t({token:void 0,user:void 0}),sessionStorage.clear(),a.push("/login")}},"Logout")))},x=(a(158),a(169)),w=function(e){var t=r.a.createElement(x.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("aside",{onClick:e.onClick,className:"side-bar"},e.children));return s.a.createPortal(t,document.getElementById("side-bar"))},S=(a(159),function(e){return s.a.createPortal(r.a.createElement("div",{className:"shadow",onClick:e.onClick}),document.getElementById("shadow"))}),_=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1],l=function(){s(!1)};return r.a.createElement(n.Fragment,null,c&&r.a.createElement(S,{onClick:l}),r.a.createElement(w,{show:c,onClick:l},r.a.createElement("nav",{className:"main-nav__side-bar"},r.a.createElement(C,null))),r.a.createElement(j,null,r.a.createElement("button",{className:"main-nav__menu-btn",onClick:function(){s(!0)}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("h1",{className:"main-nav__title"},r.a.createElement(p.b,{to:"/",className:"logo1"},r.a.createElement("span",null,"Picaplace"))),r.a.createElement("nav",{className:"main-nav__wrap-nav"},r.a.createElement(C,null))))},I=(a(160),a(161),a(162),function(e){var t=r.a.createElement("div",{className:"modal1 ".concat(e.className),style:e.style},r.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},r.a.createElement("h6",null,e.header),r.a.createElement("button",{onClick:e.onClick,className:"x-btn"},"X")),r.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),r.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return s.a.createPortal(t,document.getElementById("openModal"))}),L=function(e){return r.a.createElement(n.Fragment,null,e.show&&r.a.createElement(S,{onClick:e.onClick}),r.a.createElement(x.a,{in:e.show,timeout:200,classNames:"modal",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(I,e)))},D=a(27),P=a.n(D),T=(a(163),function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],s=a[1],l=Object(n.useRef)(null),o=e.center,i=e.zoom;return Object(n.useEffect)((function(){P.a.accessToken="pk.eyJ1IjoiamVmZnRlYmFuZzAxMTgiLCJhIjoiY2tkbGp0bTJvMG83ZjJycGZuaXNod3JrYSJ9.cCOBm77H7fIlkMDRU9_EqQ";c||function(e){var t=e.setMap,a=e.mapContainer,n=new P.a.Map({container:a.current,style:"mapbox://styles/mapbox/streets-v11",center:[o.Longitude,o.Latitude],zoom:i});(new P.a.Marker).setLngLat([o.Longitude,o.Latitude]).addTo(n);n.on("load",(function(){t(n),n.resize()}));var r=document.getElementById("menu").getElementsByTagName("input");function c(e){var t=e.target.id;n.setStyle("mapbox://styles/mapbox/"+t)}n.addControl(new P.a.NavigationControl);for(var s=0;s<r.length;s++)r[s].onclick=c}({setMap:s,mapContainer:l})}),[o,i,c]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{ref:function(e){return l.current=e},className:"map"}),r.a.createElement("div",{id:"menu"},r.a.createElement("input",{id:"streets-v11",type:"radio",name:"rtoggle",value:"streets",defaultChecked:"checked"})," ",r.a.createElement("label",{for:"streets-v11",className:"spacer"},"Streets"),r.a.createElement("input",{id:"light-v10",type:"radio",name:"rtoggle",value:"light"})," ",r.a.createElement("label",{for:"light-v10",className:"spacer"},"Light"),r.a.createElement("input",{id:"dark-v10",type:"radio",name:"rtoggle",value:"dark"})," ",r.a.createElement("label",{for:"dark-v10",className:"spacer"},"Dark"),r.a.createElement("input",{id:"outdoors-v11",type:"radio",name:"rtoggle",value:"outdoors"})," ",r.a.createElement("label",{for:"outdoors-v11",className:"spacer"},"Outdoors"),r.a.createElement("input",{id:"satellite-v9",type:"radio",name:"rtoggle",value:"satellite"})," ",r.a.createElement("label",{for:"satellite-v9",className:"spacer"},"Satellite")))}),A=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),s=Object(u.a)(c,2),l=s[0],m=s[1],p=Object(n.useRef)([]),d=Object(n.useCallback)(function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,c,s,l,i,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"GET",n=u.length>2&&void 0!==u[2]?u[2]:null,c=u.length>3&&void 0!==u[3]?u[3]:{},r(!0),s=new AbortController,p.current.push(s),e.prev=6,e.next=9,fetch(t,{method:a,body:n,headers:c,signal:s.signal});case 9:return l=e.sent,e.next=12,l.json();case 12:if(i=e.sent,p.current=p.current.filter((function(e){return e!==s})),l.ok){e.next=16;break}throw new Error(i.message);case 16:return r(!1),e.abrupt("return",i);case 20:throw e.prev=20,e.t0=e.catch(6),m(e.t0.message),r(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.useEffect)((function(){return function(){p.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:l,sendRequest:d,clearError:function(){m(null)}}},F=function(e){var t=A(),a=t.isLoading,c=t.sendRequest,s=Object(n.useState)(!1),l=Object(u.a)(s,2),m=l[0],d=l[1],E=Object(n.useState)(!1),b=Object(u.a)(E,2),h=b[0],N=b[1],O=function(){N(!1)},j=function(){var t=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!1),t.prev=1,t.next=4,c("".concat("https://picaplace.herokuapp.com/api","/posts/").concat(e.id),"DELETE");case 4:e.onDelete(e.id),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(L,{show:m,header:e.address,contentClass:"post-bit__modal-content",onClick:function(){d(!1)}},r.a.createElement("div",{className:"map-wrap"},r.a.createElement(T,{center:e.location,zoom:15}))),r.a.createElement(L,{className:"modal-prompt",show:h,onClick:O,header:"DELETE",footerClass:"post-bit__modal-actions",footer:r.a.createElement(n.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"delete-footer"},r.a.createElement(k.b,{className:"post-btn rounded-0",color:"grey grey lighten-1",onClick:O},"CANCEL"),r.a.createElement(k.b,{className:"post-btn rounded-0",color:"grey grey lighten-1",onClick:j},"DELETE")))},r.a.createElement("p",{style:{padding:"1rem 3rem"}},"Are you sure you want to delete this post? It cannot be undone after.")),r.a.createElement("li",{className:"post-bit"},r.a.createElement(g,{className:"post-bit__content"},a&&r.a.createElement(v.CommonLoading,{color:"grey"}),r.a.createElement("div",{className:"post-bit__image"},r.a.createElement("div",{className:"user__image"},r.a.createElement(f,{image:e.image,alt:e.name})),r.a.createElement("img",{src:e.image,alt:e.location})),r.a.createElement("div",{className:"post-bit__info"},r.a.createElement("p",null,r.a.createElement("strong",null,e.address)),r.a.createElement("p",{className:"post-bit__desc"},e.name," ",e.description)),r.a.createElement("div",{className:"post-bit__actions"},r.a.createElement(k.b,{onClick:function(){d(!0)},className:"rounded-0 post-btn"},"VIEW ON MAP"),sessionStorage.creator===e.creatorId&&r.a.createElement(n.Fragment,null,r.a.createElement(p.b,{to:{pathname:"/posts/".concat(e.id),state:{description:e.description}}},r.a.createElement(k.b,{className:"rounded-0 post-btn"},"EDIT")),r.a.createElement(k.b,{onClick:function(){N(!0)},className:"rounded-0 post-btn"},"DELETE"))))))},q=function(e){return 0===e.bits.length?r.a.createElement("div",{className:"post-catalog center"},r.a.createElement(g,{className:"px-5"},r.a.createElement("h3",{className:"py-3"},"No posts to show."),r.a.createElement(p.b,{to:"/posts/new"},r.a.createElement(k.b,{type:"submit",className:"rounded-0",color:"elegant"},"Create Post")))):r.a.createElement("ul",{className:"post-catalog"},e.bits.map((function(t){return r.a.createElement(F,{key:t._id,id:t._id,image:t.image,address:t.address,description:t.description,creatorId:t.creator,location:t.location,onDelete:e.onDeletePost})})))},J=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],s=A(),l=s.isLoading,p=s.sendRequest,d=Object(m.h)().userId;Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("".concat("https://picaplace.herokuapp.com/api","/posts/user/").concat(d));case 3:t=e.sent,c(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[p,d]);return l?r.a.createElement(v.CommonLoading,{color:"grey"}):r.a.createElement(n.Fragment,null," ",!l&&a&&r.a.createElement(q,{bits:a,onDeletePlace:function(e){c((function(t){return t.filter((function(t){return t.id!==e}))}))}}))},M=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(e.location.state.description),p=Object(u.a)(l,2),d=p[0],E=p[1],f=Object(m.g)(),b=Object(m.h)().postId,h=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s(!0),a={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:d})},fetch("".concat("https://picaplace.herokuapp.com/api","/posts/").concat(b),a).then((function(e){return e.json()})).then((function(e){E(""),s(!1),f.push("/".concat(sessionStorage.getItem("creator"),"/posts"))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return b?c?r.a.createElement(v.CommonLoading,{color:"grey"}):r.a.createElement(g,{className:"post-form"},r.a.createElement(k.d,null,r.a.createElement(k.i,null,r.a.createElement(k.c,null,r.a.createElement("form",{onSubmit:h},r.a.createElement("p",{className:"h5 mb-5"},"Edit description here:"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(k.f,{id:"description",className:"post-desc",label:"Description",group:!0,type:"textarea",validate:!0,onChange:function(e){return E(e.target.value)},value:d})),r.a.createElement("div",{className:"text-center rounded-0"},r.a.createElement(k.b,{className:"rounded-0",color:"elegant",type:"submit"},"SAVE CHANGES"))))))):r.a.createElement("div",{className:"center"},r.a.createElement("h2",null,"Cannot find your post."))};a(55),a(164);function R(e){return r.a.createElement("div",{className:"error-notice"},r.a.createElement("span",null,e.message),r.a.createElement("button",{onClick:e.clearError},"X"))}var B=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),l=Object(u.a)(s,2),m=l[0],d=l[1],f=Object(n.useState)(),b=Object(u.a)(f,2),h=b[0],v=b[1],N=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:m},e.next=5,E.a.post("https://picaplace.herokuapp.com/api/users/login",n);case 5:return r=e.sent,e.next=8,sessionStorage.setItem("creator",r.data.user.id);case 8:return e.next=10,sessionStorage.setItem("token",r.data.token);case 10:return e.next=12,sessionStorage.setItem("name",r.data.user.name);case 12:window.location.replace("/users"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),e.t0.response.data.msg&&v(e.t0.response.data.msg);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(g,{className:"log-form"},r.a.createElement(k.d,null,r.a.createElement(k.i,null,r.a.createElement(k.c,null,r.a.createElement("form",{className:"needs-validation",onSubmit:N},r.a.createElement("p",{className:"h5 mb-5 text-center"},"Login"),h&&r.a.createElement(R,{message:h,clearError:function(){return v(void 0)},className:"text-center"}),r.a.createElement("div",{className:"grey-text"},r.a.createElement(k.f,{id:"email",label:"Email",group:!0,icon:"envelope",type:"email",required:!0,error:"wrong",success:"right",onChange:function(e){return c(e.target.value)}}),r.a.createElement(k.f,{id:"password",label:"Password",icon:"lock",group:!0,required:!0,type:"password",onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement(k.b,{type:"submit",className:"rounded-0",color:"elegant"},"LOGIN"))))))),r.a.createElement(g,{className:"log-form log2"},r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(p.b,{to:"/signup"},"Sign up"))))},G=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),l=Object(u.a)(s,2),d=l[0],f=l[1],b=Object(n.useState)(),h=Object(u.a)(b,2),v=h[0],N=h[1],O=Object(n.useState)(),j=Object(u.a)(O,2),C=j[0],x=j[1],w=Object(n.useState)(),S=Object(u.a)(w,2),_=S[0],I=S[1],L=Object(m.g)(),D=Object(n.useContext)(y).setUserData,P=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={name:a,email:d,password:v,passwordCheck:C},e.next=5,E.a.post("https://picaplace.herokuapp.com/api/users/signup",n);case 5:D({token:void 0,user:void 0}),L.push("/login"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response.data.msg&&I(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(g,{className:"log-form"},r.a.createElement(k.d,null,r.a.createElement(k.i,null,r.a.createElement(k.c,null,r.a.createElement("form",{className:"needs-validation",onSubmit:P},r.a.createElement("p",{className:"h5 mb-5 text-center"},"Sign up"),_&&r.a.createElement(R,{message:_,clearError:function(){return I(void 0)},className:"text-center"}),r.a.createElement("div",{className:"grey-text"},r.a.createElement(k.f,{id:"name",label:"Name",group:!0,icon:"user",type:"text",required:!0,error:"wrong",success:"right",onChange:function(e){return c(e.target.value)}}),r.a.createElement(k.f,{id:"email",label:"Email",group:!0,icon:"envelope",type:"email",required:!0,error:"wrong",success:"right",onChange:function(e){return f(e.target.value)}}),r.a.createElement(k.f,{id:"password",label:"Password",icon:"lock",group:!0,required:!0,type:"password",onChange:function(e){return N(e.target.value)}}),r.a.createElement(k.f,{id:"passwordCheck",label:"Confirm Password",icon:"lock",group:!0,required:!0,type:"password",onChange:function(e){return x(e.target.value)}})),r.a.createElement(k.c,{md:"",className:"mb-3"},r.a.createElement("div",{className:"custom-control custom-checkbox pl-3"},r.a.createElement("input",{className:"custom-control-input",type:"checkbox",value:"",id:"invalidCheck",required:!0}),r.a.createElement("label",{className:"custom-control-label agree",htmlFor:"invalidCheck"},"Agree to terms and conditions"),r.a.createElement("div",{className:"invalid-feedback"},"You must agree before submitting."))),r.a.createElement("div",{className:"text-center"},r.a.createElement(k.b,{type:"submit",className:"rounded-0",color:"elegant"},"SIGN UP"))))))),r.a.createElement(g,{className:"log-form log2"},r.a.createElement("p",null,"Have an account? ",r.a.createElement(p.b,{to:"/login"},"Login"))))},U=function(){var e,t=Object(n.useState)({token:void 0,user:void 0}),a=Object(u.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("x-auth-token"))&&(localStorage.setItem("x-auth-token",""),t=""),e.next=4,E.a.post("https://picaplace.herokuapp.com/api/users/tokenIsValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,E.a.get("REACT_APP_BACKEND_URL/api/api/users/users",{headers:{"x-auth-token":t}});case 8:a=e.sent,s({token:t,user:a.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),e=sessionStorage.token?r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/users",exact:!0},r.a.createElement(N,null)),r.a.createElement(m.b,{path:"/:userId/posts",exact:!0},r.a.createElement(J,null)),r.a.createElement(m.b,{path:"/posts/new",exact:!0},r.a.createElement(O,null)),r.a.createElement(m.b,{path:"/posts/:postId",component:M}),r.a.createElement(m.a,{to:"/users"})):r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/login"},r.a.createElement(B,null)),r.a.createElement(m.b,{path:"/signup"},r.a.createElement(G,null)),r.a.createElement(m.a,{to:"/login"})),r.a.createElement(p.a,null,r.a.createElement(y.Provider,{value:{userData:c,setUserData:s}},r.a.createElement(_,null),e))};s.a.render(r.a.createElement(U,null),document.getElementById("root"))},55:function(e,t,a){},67:function(e,t,a){e.exports=a(165)},72:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.c064d71e.chunk.js.map